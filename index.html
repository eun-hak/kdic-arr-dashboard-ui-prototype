<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>훈련 분석 평가</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header class="header">
      <div class="header-content">
        <h1>
          <svg
            class="icon icon-large"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
            />
          </svg>
          MR 훈련 분석 평가
        </h1>
        <div class="session-info">
          <span>세션 ID: S-20250826-001</span>
          <span>훈련 일자: 2025-08-26</span>
          <span>시나리오: 도시전투 훈련</span>
          <span>참가자: 16명</span>
        </div>
      </div>
    </header>

    <div class="main-container">
      <!-- 좌측 사이드바 -->
      <div class="sidebar-left">
        <!-- 개인 종합 점수 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 15.5c1.66 0 3-1.34 3-3V9c0-1.66-1.34-3-3-3s-3 1.34-3 3v3.5c0 1.66 1.34 3 3 3zM8 9c0-2.21 1.79-4 4-4s4 1.79 4 4v3.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V9zm4 6.5L9 18v3h6v-3l-3-2.5z"
              />
            </svg>
            개인 종합 점수
          </div>
          <div class="score-large">85</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 85%"></div>
          </div>
          <div
            style="
              text-align: center;
              color: var(--text-secondary);
              font-size: 0.9rem;
            "
          >
            상위 15% (A급)
          </div>
          <div
            class="rank-badge rank-excellent"
            style="width: 100%; text-align: center; margin-top: 1rem"
          >
            우수
          </div>
        </div>

        <!-- 팀 종합 점수 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm5 0c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM16 8v6h2l-3 4-3-4h2V8h2zM4 8v6h2l-3 4-3-4h2V8h2zm5 0v6h2l-3 4-3-4h2V8h2z"
              />
            </svg>
            팀 종합 점수
          </div>
          <div class="score-medium">78</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 78%"></div>
          </div>
          <div
            style="
              text-align: center;
              color: var(--text-secondary);
              font-size: 0.9rem;
            "
          >
            전체 5팀 중 2위
          </div>
          <div
            class="rank-badge rank-good"
            style="width: 100%; text-align: center; margin-top: 1rem"
          >
            양호
          </div>
        </div>

        <!-- 핵심 지표 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
              />
            </svg>
            핵심 지표
          </div>
          <div class="stat-grid">
            <div class="stat-item">
              <div class="stat-value">92%</div>
              <div class="stat-label">임무완료율</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">78%</div>
              <div class="stat-label">명중률</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">0.72</div>
              <div class="stat-label">경로효율</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">320ms</div>
              <div class="stat-label">OODA지연</div>
            </div>
          </div>
        </div>

        <!-- 경고 및 알림 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
            </svg>
            주요 경고
          </div>
          <ul class="alert-list">
            <li class="alert-item alert-warning">
              경로 효율 급락 감지 (0.65 → 0.72)
            </li>
            <li class="alert-item alert-error">ROE 위반 1회 발생 (14:23:15)</li>
            <li class="alert-item alert-warning">
              HRV 급락 구간 감지 (스트레스 증가)
            </li>
            <li class="alert-item alert-warning">
              탄착군 분산 증가 (CEP +15%)
            </li>
          </ul>
        </div>
      </div>

      <!-- 메인 콘텐츠 -->
      <div class="main-content">
        <!-- 선택 컨트롤 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zM3 5v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2zm16 0v3H5V5h14z"
              />
            </svg>
            분석 대상 선택
          </div>
          <div class="control-section">
            <div class="control-group">
              <label class="control-label">분석 유형:</label>
              <div class="radio-group">
                <label class="radio-item">
                  <input
                    type="radio"
                    name="analysisType"
                    value="individual"
                    checked
                  />
                  <span>개인별 분석</span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="analysisType" value="team" />
                  <span>팀별 분석</span>
                </label>
                <label class="radio-item">
                  <input type="radio" name="analysisType" value="comparison" />
                  <span>비교 분석</span>
                </label>
              </div>
            </div>
            <div class="control-group" id="individualControl">
              <label class="control-label">개인 선택:</label>
              <select id="playerSelect" class="styled-select">
                <option value="P_A01">P_A01 (본인 - 소대장)</option>
              </select>
            </div>
            <div class="control-group" id="teamControl" style="display: none">
              <label class="control-label">팀 선택:</label>
              <select id="teamSelect" class="styled-select">
                <option value="team_a">A팀 (P_A01~P_A04)</option>
                <option value="team_b">B팀 (P_A05~P_A08)</option>
                <option value="team_c">C팀 (P_A09~P_A12)</option>
                <option value="team_d">D팀 (P_A13~P_A16)</option>
                <option value="all_teams">전체 팀 평균</option>
              </select>
            </div>
            <div
              class="control-group"
              id="comparisonControl"
              style="display: none"
            >
              <label class="control-label">비교 대상:</label>
              <div class="comparison-selects">
                <select id="comparison1" class="styled-select">
                  <option value="P_A01">P_A01 (본인)</option>
                </select>
                <span class="vs-text">vs</span>
                <select id="comparison2" class="styled-select">
                  <option value="team_avg">팀 평균</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- 능력 레이더 차트 -->
        <div class="card">
          <div class="card-title" id="chartTitle">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
              />
            </svg>
            종합 능력 평가 (다각형 분석) - P_A01
          </div>
          <div class="chart-container">
            <canvas id="radarChart"></canvas>
          </div>
        </div>

        <!-- 세부 측정 지표 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"
              />
            </svg>
            세부 측정 지표
          </div>
          <table class="metrics-table">
            <thead>
              <tr>
                <th>분야</th>
                <th>측정항목</th>
                <th>측정값</th>
                <th>기준값</th>
                <th>상태</th>
                <th>점수</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td rowspan="3">기동능력</td>
                <td>경로 효율</td>
                <td>0.72</td>
                <td>≥ 0.70</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>75</td>
              </tr>
              <tr>
                <td>평균 속도</td>
                <td>2.3 m/s</td>
                <td>2.0-3.0 m/s</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>82</td>
              </tr>
              <tr>
                <td>노출 시간</td>
                <td>15.2 s</td>
                <td>≤ 20 s</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>88</td>
              </tr>
              <tr>
                <td rowspan="3">사격능력</td>
                <td>명중률</td>
                <td>78%</td>
                <td>≥ 70%</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>85</td>
              </tr>
              <tr>
                <td>CEP (원형오차)</td>
                <td>8.5 cm</td>
                <td>≤ 10 cm</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>78</td>
              </tr>
              <tr>
                <td>반동 안정도</td>
                <td>0.85</td>
                <td>≥ 0.80</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>73</td>
              </tr>
              <tr>
                <td rowspan="2">상황조치능력</td>
                <td>OODA 지연</td>
                <td>320 ms</td>
                <td>≤ 300 ms</td>
                <td>
                  <span class="status-indicator status-warning"></span>경고
                </td>
                <td>68</td>
              </tr>
              <tr>
                <td>ROE 준수율</td>
                <td>95%</td>
                <td>100%</td>
                <td>
                  <span class="status-indicator status-warning"></span>경고
                </td>
                <td>60</td>
              </tr>
              <tr>
                <td rowspan="2">개인임무능력</td>
                <td>임무 완료율</td>
                <td>92%</td>
                <td>≥ 90%</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>95</td>
              </tr>
              <tr>
                <td>경로 이탈률</td>
                <td>3%</td>
                <td>≤ 5%</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>88</td>
              </tr>
              <tr>
                <td rowspan="3">신체반응분석</td>
                <td>스트레스 지수</td>
                <td>68</td>
                <td>≤ 70</td>
                <td>
                  <span class="status-indicator status-warning"></span>주의
                </td>
                <td>65</td>
              </tr>
              <tr>
                <td>피로 스코어</td>
                <td>45</td>
                <td>≤ 50</td>
                <td><span class="status-indicator status-ok"></span>정상</td>
                <td>78</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 훈련 타임라인 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"
              />
            </svg>
            훈련 타임라인 & 주요 이벤트
          </div>
          <div class="chart-container">
            <canvas id="timelineChart"></canvas>
          </div>
        </div>

        <!-- 총평 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
              />
            </svg>
            종합 평가 및 총평
          </div>
          <div class="evaluation-text">
            <strong>전체 평가:</strong> 참가자 P_A01은 이번 도시전투 훈련에서
            <strong>우수한 성과</strong>를 보여주었습니다. 특히 기동능력과
            개인임무 수행 능력에서 뛰어난 역량을 발휘했습니다. <br /><br />
            <strong>주요 강점:</strong>
            <ul style="margin: 1rem 0; padding-left: 2rem">
              <li>높은 임무 완료율 (92%) - 목표치 대비 우수</li>
              <li>효율적인 기동경로 설정 및 실행</li>
              <li>안정적인 사격 정확도 유지</li>
              <li>낮은 경로 이탈률로 뛰어난 공간 인식능력 입증</li>
            </ul>

            <strong>개선 필요 영역:</strong>
            <ul style="margin: 1rem 0; padding-left: 2rem">
              <li>
                상황 판단 속도 개선 필요 (OODA 지연 320ms → 목표 300ms 이하)
              </li>
              <li>ROE(교전수칙) 숙지 및 준수 강화 필요</li>
              <li>고스트레스 상황에서의 신체적 안정성 향상</li>
            </ul>

            <strong>차후 훈련 권고사항:</strong>
            스트레스 상황에서의 의사결정 훈련과 ROE 시나리오 기반 반복훈련을
            통해 상황조치능력을 향상시키는 것을 권장합니다. 전반적으로는 매우
            우수한 수준의 전투 역량을 보유하고 있으며, 소수의 개선점만
            보완된다면 최우수 등급 달성이 가능할 것으로 판단됩니다.
          </div>
        </div>
      </div>

      <!-- 우측 사이드바 -->
      <div class="sidebar-right">
        <!-- 팀원 현황 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm5 0c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM16 8v6h2l-3 4-3-4h2V8h2zM4 8v6h2l-3 4-3-4h2V8h2zm5 0v6h2l-3 4-3-4h2V8h2z"
              />
            </svg>
            팀원 현황 (16명)
          </div>
          <div class="team-filter">
            <select
              id="teamFilter"
              class="styled-select"
              style="width: 100%; margin-bottom: 1rem"
            >
              <option value="all">전체 팀원 (16명)</option>
              <option value="team_a">A팀 (P_A01~P_A04)</option>
              <option value="team_b">B팀 (P_A05~P_A08)</option>
              <option value="team_c">C팀 (P_A09~P_A12)</option>
              <option value="team_d">D팀 (P_A13~P_A16)</option>
            </select>
          </div>
          <div class="team-members" id="teamMembersContainer">
            <!-- 16명의 팀원이 JavaScript로 동적 생성됩니다 -->
          </div>
        </div>

        <!-- 실시간 생체신호 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5 2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"
              />
            </svg>
            생체신호 분석
          </div>
          <div class="stat-item" style="margin-bottom: 1rem">
            <div class="stat-value" style="color: var(--success-color)">
              68 BPM
            </div>
            <div class="stat-label">평균 심박수</div>
          </div>
          <div class="stat-item" style="margin-bottom: 1rem">
            <div class="stat-value" style="color: var(--warning-color)">
              15.2
            </div>
            <div class="stat-label">스트레스 지수</div>
          </div>
          <div class="chart-container" style="height: 200px">
            <canvas id="vitalChart"></canvas>
          </div>
        </div>

        <!-- 비교 분석 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9,17H7v-7h2v7z M13,17h-2V7h2v10z M17,17h-2v-4h2v4z M19.5,19.1h-15V5h15v14.1z M19.5,3H4.5C3.4,3,2.5,3.9,2.5,5v14.1c0,1.1,0.9,2,2,2h15c1.1,0,2-0.9,2-2V5C21.5,3.9,20.6,3,19.5,3z"
              />
            </svg>
            성과 비교
          </div>
          <div style="margin: 1rem 0">
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 0.5rem;
              "
            >
              <span>팀 평균 대비</span>
              <span style="color: var(--success-color); font-weight: 600"
                >+12점</span
              >
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: 75%"></div>
            </div>
          </div>
          <div style="margin: 1rem 0">
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 0.5rem;
              "
            >
              <span>전체 평균 대비</span>
              <span style="color: var(--success-color); font-weight: 600"
                >+18점</span
              >
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: 82%"></div>
            </div>
          </div>
          <div style="margin: 1rem 0">
            <div
              style="
                display: flex;
                justify-content: space-between;
                margin-bottom: 0.5rem;
              "
            >
              <span>이전 훈련 대비</span>
              <span style="color: var(--success-color); font-weight: 600"
                >+5점</span
              >
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: 65%"></div>
            </div>
          </div>
        </div>

        <!-- 추천 훈련 -->
        <div class="card">
          <div class="card-title">
            <svg
              class="icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5,13.18v4L12,21l7-3.82v-4L12,17.18L5,13.18zM12,10.18L22,5l-10-5L2,5L12,10.18z"
              />
            </svg>
            추천 훈련과정
          </div>
          <div style="display: flex; flex-direction: column; gap: 1rem">
            <div
              style="
                padding: 1rem;
                background: var(--secondary-bg);
                border-left: 3px solid var(--warning-color);
                margin-bottom: 1rem;
              "
            >
              <div style="font-weight: 600; color: var(--warning-color)">
                우선 개선
              </div>
              <div style="font-size: 0.9rem; margin-top: 0.25rem">
                상황판단력 향상 훈련
              </div>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--secondary-bg);
                border-left: 3px solid var(--accent-color);
                margin-bottom: 1rem;
              "
            >
              <div style="font-weight: 600; color: var(--accent-color)">
                권장
              </div>
              <div style="font-size: 0.9rem; margin-top: 0.25rem">
                ROE 시나리오 훈련
              </div>
            </div>
            <div
              style="
                padding: 1rem;
                background: var(--secondary-bg);
                border-left: 3px solid var(--success-color);
              "
            >
              <div style="font-weight: 600; color: var(--success-color)">
                보완
              </div>
              <div style="font-size: 0.9rem; margin-top: 0.25rem">
                스트레스 관리 훈련
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
